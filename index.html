<!DOCTYPE html>

<html >
<head>
   
    <title>Battleship</title>
    
    <style>
        table, th, td {
            border: 1px solid black;
            background-color: lightblue;
        }

        table{
            width: 100%;
            height: 40%;

        }

        h1{
            text-align: center;
        }
          
    </style>
   
</head>
<body>
    <h1>Opponent's board</h1>
    <div id=" divv">
        <table id="table_top">
            <tr><td><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th>
            <tr><th>1</th><td id="A1a"><td id="B1a"><td id="C1a"><td id="D1a"><td id="E1a"><td id="F1a"><td id="G1a"><td id="H1a"><td id="I1a"><td id="J1a">
            <tr><th>2</th><td id="A2a"><td id="B2a"><td id="C2a"><td id="D2a"><td id="E2a"><td id="F2a"><td id="G2a"><td id="H2a"><td id="I2a"><td id="J2a">
            <tr><th>3</th><td id="A3a"><td id="B3a"><td id="C3a"><td id="D3a"><td id="E3a"><td id="F3a"><td id="G3a"><td id="H3a"><td id="I3a"><td id="J3a">
            <tr><th>4</th><td id="A4a"><td id="B4a"><td id="C4a"><td id="D4a"><td id="E4a"><td id="F4a"><td id="G4a"><td id="H4a"><td id="I4a"><td id="J4a">
            <tr><th>5</th><td id="A5a"><td id="B5a"><td id="C5a"><td id="D5a"><td id="E5a"><td id="F5a"><td id="G5a"><td id="H5a"><td id="I5a"><td id="J5a">
            <tr><th>6</th><td id="A6a"><td id="B6a"><td id="C6a"><td id="D6a"><td id="E6a"><td id="F6a"><td id="G6a"><td id="H6a"><td id="I6a"><td id="J6a">
            <tr><th>7</th><td id="A7a"><td id="B7a"><td id="C7a"><td id="D7a"><td id="E7a"><td id="F7a"><td id="G7a"><td id="H7a"><td id="I7a"><td id="J7a">
            <tr><th>8</th><td id="A8a"><td id="B8a"><td id="C8a"><td id="D8a"><td id="E8a"><td id="F8a"><td id="G8a"><td id="H8a"><td id="I8a"><td id="J8a">
            <tr><th>9</th><td id="A9a"><td id="B9a"><td id="C9a"><td id="D9a"><td id="E9a"><td id="F9a"><td id="G9a"><td id="H9a"><td id="I9a"><td id="J9a">
            <tr><th>10</th><td id="A10a"><td id="B10a"><td id="C10a"><td id="D10a"><td id="E10a"><td id="F10a"><td id="G10a"><td id="H10a"><td id="I10a"><td id="J10a">
       </table>

        <h1>Your board</h1>

        <table id ="table_bottom" >
            <tr><td><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G</th><th>H</th><th>I</th><th>J</th>
            <tr><th>1</th><td id="A1b"><td id="B1b"><td id="C1b"><td id="D1b"><td id="E1b"><td id="F1b"><td id="G1b"><td id="H1b"><td id="I1b"><td id="J1b">
            <tr><th>2</th><td id="A2b"><td id="B2b"><td id="C2b"><td id="D2b"><td id="E2b"><td id="F2b"><td id="G2b"><td id="H2b"><td id="I2b"><td id="J2b">
            <tr><th>3</th><td id="A3b"><td id="B3b"><td id="C3b"><td id="D3b"><td id="E3b"><td id="F3b"><td id="G3b"><td id="H3b"><td id="I3b"><td id="J3b">
            <tr><th>4</th><td id="A4b"><td id="B4b"><td id="C4b"><td id="D4b"><td id="E4b"><td id="F4b"><td id="G4b"><td id="H4b"><td id="I4b"><td id="J4b">
            <tr><th>5</th><td id="A5b"><td id="B5b"><td id="C5b"><td id="D5b"><td id="E5b"><td id="F5b"><td id="G5b"><td id="H5b"><td id="I5b"><td id="J5b">
            <tr><th>6</th><td id="A6b"><td id="B6b"><td id="C6b"><td id="D6b"><td id="E6b"><td id="F6b"><td id="G6b"><td id="H6b"><td id="I6b"><td id="J6b">
            <tr><th>7</th><td id="A7b"><td id="B7b"><td id="C7b"><td id="D7b"><td id="E7b"><td id="F7b"><td id="G7b"><td id="H7b"><td id="I7b"><td id="J7b">
            <tr><th>8</th><td id="A8b"><td id="B8b"><td id="C8b"><td id="D8b"><td id="E8b"><td id="F8b"><td id="G8b"><td id="H8b"><td id="I8b"><td id="J8b">
            <tr><th>9</th><td id="A9b"><td id="B9b"><td id="C9b"><td id="D9b"><td id="E9b"><td id="F9b"><td id="G9b"><td id="H9b"><td id="I9b"><td id="J9b">
            <tr><th>10</th><td id="A10b"><td id="B10b"><td id="C10b"><td id="D10b"><td id="E10b"><td id="F10b"><td id="G10b"><td id="H10b"><td id="I10b"><td id="J10b">
        </table>
     </div>

    <script type="text/javascript">
      
        window.onload = start();

        playGame();



        function start() {
            if (typeof (Storage) !== "undefined") {
                var response = prompt("What is your name?");




               

                window.sessionStorage.setItem("player_one", response);



           
                response = prompt("Where do you want to place your ships?");
                var ships = response.split(";");
                var ship_one = ships[0].split("");
                var ship_two = ships[1].split("");
                var ship_three = ships[2].split("");

                var aircraft_one; var battleship_one; var sub_one;

                switch (ship_one[0]) {
                    case "A": aircraft_one = ship_one;
                        break;
                    case "B": battleship_one = ship_one;
                        break;
                    case "S": sub_one = ship_one;
                        break;
                }

                switch (ship_two[0]) {
                    case "A": aircraft_one = ship_two;
                        break;
                    case "B": battleship_one = ship_two;
                        break;
                    case "S": sub_one = ship_two;
                        break;
                }

                switch (ship_three[0]) {
                    case "A": aircraft_one = ship_three;
                        break;
                    case "B": battleship_one = ship_three;
                        break;
                    case "S": sub_one = ship_three;
                        break;
                }
                
                

               
                response = prompt("What is your name?");
                sessionStorage.setItem("player_two", response);

                
                response = prompt("Where do you want to place your ships?");

                ships = response.split(";");
                ship_one = ships[0].split("");
                ship_two = ships[1].split("");
                ship_three = ships[2].split("");

                var aircraft_two; var battleship_two; var sub_two;

                switch (ship_one[0]) {
                    case "A": aircraft_two = ship_one;
                        break;
                    case "B": battleship_two = ship_one;
                        break;
                    case "S": sub_two = ship_one;
                        break;
                }

                switch (ship_two[0]) {
                    case "A": aircraft_two = ship_two;
                        break;
                    case "B": battleship_two = ship_two;
                        break;
                    case "S": sub_two = ship_two;
                        break;
                }

                switch (ship_three[0]) {
                    case "A": aircraft_two = ship_three;
                        break;
                    case "B": battleship_two = ship_three;
                        break;
                    case "S": sub_two = ship_three;
                        break;
                }

                var end; var beginning; var spaces = []; var nextSpace; var num; var i; 
                var letters = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J"]

                
                if (aircraft_one[2] == aircraft_one[5]) {

                    end = aircraft_one[6];
                    beginning = aircraft_one[3];
                    spaces.push(aircraft_one[2].concat(beginning));
                    num = Number(beginning);


                    for ( i = 0; i < 4; i++) {
                        num = num + 1;
                      
                      spaces.push(aircraft_one[2].concat(num.toString()));
                    }

                    sessionStorage.setItem("aircraft_one", spaces);

                    for (i = 0; i < 5; i++) {
                        spaces.pop();
                    }


                } else {
                    i = 0;
                    while (aircraft_one[2] != letters[i]) {
                        i++;
                    }
                    var j;
                    for (j = i; j < i + 5; j++) {
                        spaces.push(letters[j].concat(aircraft_one[3]));
                    }
                    sessionStorage.setItem("aircraft_one", spaces);

                    for (i = 0; i < 5; i++) {
                        spaces.pop();
                    }
                }

                if (aircraft_two[2] == aircraft_two[5]) {

                    end = aircraft_two[6];
                    beginning = aircraft_two[3];
                    spaces.push(aircraft_two[2].concat(beginning));
                    num = Number(beginning);


                    for ( i = 0; i < 4; i++) {
                        num = num + 1;

                        spaces.push(aircraft_two[2].concat(num.toString()));
                    }

                    sessionStorage.setItem("aircraft_two", spaces);
           
                    for (i = 0; i < 5; i++) {
                        spaces.pop();
                    }


                } else {
                    i = 0;
                    while (aircraft_two[2] != letters[i]) {
                        i++;
                    }
                    var j;
                    for (j = i; j < i + 5; j++) {
                        spaces.push(letters[j].concat(aircraft_two[3]));
                    }
                    sessionStorage.setItem("aircraft_two", spaces);

                    for (i = 0; i < 5; i++) {
                        spaces.pop();
                    }
                }

                if (sub_one[2] == sub_one[5]) {

                    end = sub_one[6];
                    beginning = sub_one[3];
                    spaces.push(sub_one[2].concat(beginning));
                    num = Number(beginning);


                    for ( i = 0; i < 2; i++) {
                        num = num + 1;

                        spaces.push(sub_one[2].concat(num.toString()));
                    }

                    sessionStorage.setItem("sub_one", spaces);

                    for (i = 0; i < 3; i++) {
                        spaces.pop();
                    }


                } else {
                    i = 0;
                    while (sub_one[2] != letters[i]) {
                        i++;
                    }
                    var j;
                    for (j = i; j < i + 3; j++) {
                        spaces.push(letters[j].concat(sub_one[3]));
                    }
                    sessionStorage.setItem("sub_one", spaces);

                    for (i = 0; i < 3; i++) {
                        spaces.pop();
                    }

                }


                if (sub_two[2] == sub_two[5]) {

                    end = sub_two[6];
                    beginning = sub_two[3];
                    spaces.push(sub_two[2].concat(beginning));
                    num = Number(beginning);


                    for ( i = 0; i < 2; i++) {
                        num = num + 1;

                        newLength = spaces.push(sub_two[2].concat(num.toString()));
                    }

                    sessionStorage.setItem("sub_two", spaces);

             

                    for (i = 0; i < 3; i++) {
                        spaces.pop();
                    }

                } else {
                    i = 0;
                    while (sub_two[2] != letters[i]) {
                        i++;
                    }
                    var j;
                    for (j = i; j < i + 3; j++) {
                        spaces.push(letters[j].concat(sub_two[3]));
                    }
                    sessionStorage.setItem("sub_two", spaces);

                    for (i = 0; i < 3; i++) {
                        spaces.pop();
                    }
                }

           

                if (battleship_one[2] == battleship_one[5]) {
                    beginning = battleship_one[3];
                    end = battleship_one[6];
                    spaces.push(battleship_one[2].concat(beginning));
                    num = Number(beginning);


                    for ( i = 0; i < 3; i++) {
                        num = num + 1;

                        newLength = spaces.push(battleship_one[2].concat(num.toString()));
                    }

                    sessionStorage.setItem("battleship_one", spaces);
           

                    for (i = 0; i < 4; i++) {
                        spaces.pop();
                    }

                } else {
                    i = 0;
                    while (battleship_one[2] != letters[i]) {
                        i++;
                    }
                    var j;
                    for (j = i; j < i + 4; j++) {
                        spaces.push(letters[j].concat(battleship_one[3]));
                    }
                    sessionStorage.setItem("battleship_one", spaces);

                    for (i = 0; i < 4; i++) {
                        spaces.pop();
                    }
                }

                if (battleship_two[2] == battleship_two[5]) {

                    end = battleship_two[6];
                    beginning = battleship_two[3];
                    spaces.push(battleship_two[2].concat(beginning));
                    num = Number(beginning);


                    for ( i = 0; i < 3; i++) {
                        num = num + 1;
             
                        newLength = spaces.push(battleship_two[2].concat(num.toString()));
                    }

                    sessionStorage.setItem("battleship_two", spaces);

                    for (i = 0; i < 4; i++) {
                        spaces.pop();
                    }
           

                } else {
                    i = 0;
                    while (battleship_two[2] != letters[i]) {
                        i++;
                    }
                    var j;
                    for (j = i; j < i + 4; j++) {
                        spaces.push(letters[j].concat(battleship_two[3]));
                    }
                    sessionStorage.setItem("battleship_two", spaces);

                    for (i = 0; i < 4; i++) {
                        spaces.pop();
                    }
                }

                
               
               
             }


        }


        function playGame() {
            var gameOver = false;
            var player_one_score = 24;
            var player_two_score = 24;
            sessionStorage.setItem("player_one_score", player_one_score);
            sessionStorage.setItem("player_two_score", player_two_score);
            //while (!gameOver) {
                playerOneTurn();
                playerTwoTurn();
                player_one_score = sessionStorage.getItem("player_one_score");
                player_two_score = sessionStorage.getItem("player_two_score");

                if (Number(player_one_score) == 0 || Number(player_two_score) == 0) {
                    gameOver = true;
                }
            //}
        }

        function playerOneTurn() {
            
            var name = sessionStorage.getItem("player_one");
            alert("Click OK to begin " + name + "'s turn");

            var player_one_air = sessionStorage.getItem("aircraft_one").split(",");
            var player_one_battle = sessionStorage.getItem("battleship_one").split(",");
            var player_one_sub = sessionStorage.getItem("sub_one").split(",");


           

            var air_space;
            for (var i = 0; i < 5; i++) {
                air_space = player_one_air[i];
                
                
                air_space = air_space.concat("b");
               
                document.getElementById(air_space).innerHTML = "A";
            }

            var battle_space;
            for (var i = 0; i < 4; i++) {
                battle_space = player_one_battle[i];
               
                
                battle_space= battle_space.concat("b");
          
                document.getElementById(battle_space).innerHTML = "B";
            }

            var sub_space;
            for (var i = 0; i < 3; i++) {
                sub_space = player_one_sub[i];
        
                             
                sub_space= sub_space.concat("b");
                
                document.getElementById(sub_space).innerHTML = "S";
            }

            sessionStorage.setItem("player_one_score", "0");

            alert("click ok to end turn");
            clearPlayerOneBoard();
            
        }

        function playerTwoTurn() {
            
            var name_two = sessionStorage.getItem("player_two");
            alert("Click OK to begin " + name_two + "'s turn");

            var player_two_air = sessionStorage.getItem("aircraft_two").split(",");
            var player_two_battle = sessionStorage.getItem("battleship_two").split(",");
            var player_two_sub = sessionStorage.getItem("sub_two").split(",");




            var air_space;
            for (var i = 0; i < 5; i++) {
                air_space = player_two_air[i];


                air_space = air_space.concat("b");

                document.getElementById(air_space).innerHTML = "A";
            }

            var battle_space;
            for (var i = 0; i < 4; i++) {
                battle_space = player_two_battle[i];


                battle_space = battle_space.concat("b");

                document.getElementById(battle_space).innerHTML = "B";
            }

            var sub_space;
            for (var i = 0; i < 3; i++) {
                sub_space = player_two_sub[i];


                sub_space = sub_space.concat("b");

                document.getElementById(sub_space).innerHTML = "S";
            }

            sessionStorage.setItem("player_two_score", "0");
            alert("click ok to end turn");
            clearPlayerTwoBoard();
        }

        function clearPlayerOneBoard() {
            var player_one_air = sessionStorage.getItem("aircraft_one").split(",");
            var player_one_battle = sessionStorage.getItem("battleship_one").split(",");
            var player_one_sub = sessionStorage.getItem("sub_one").split(",");




            var air_space;
            for (var i = 0; i < 5; i++) {
                air_space = player_one_air[i];


                air_space = air_space.concat("b");

                document.getElementById(air_space).innerHTML = "";
            }

            var battle_space;
            for (var i = 0; i < 4; i++) {
                battle_space = player_one_battle[i];


                battle_space = battle_space.concat("b");

                document.getElementById(battle_space).innerHTML = "";
            }

            var sub_space;
            for (var i = 0; i < 3; i++) {
                sub_space = player_one_sub[i];


                sub_space = sub_space.concat("b");

                document.getElementById(sub_space).innerHTML = "";
            }
        }

        function clearPlayerTwoBoard() {
            var player_two_air = sessionStorage.getItem("aircraft_two").split(",");
            var player_two_battle = sessionStorage.getItem("battleship_two").split(",");
            var player_two_sub = sessionStorage.getItem("sub_two").split(",");




            var air_space;
            for (var i = 0; i < 5; i++) {
                air_space = player_two_air[i];


                air_space = air_space.concat("b");

                document.getElementById(air_space).innerHTML = "";
            }

            var battle_space;
            for (var i = 0; i < 4; i++) {
                battle_space = player_two_battle[i];


                battle_space = battle_space.concat("b");

                document.getElementById(battle_space).innerHTML = "";
            }

            var sub_space;
            for (var i = 0; i < 3; i++) {
                sub_space = player_two_sub[i];


                sub_space = sub_space.concat("b");

                document.getElementById(sub_space).innerHTML = "";
            }
        }

    </script>
</body>

   
</html>
